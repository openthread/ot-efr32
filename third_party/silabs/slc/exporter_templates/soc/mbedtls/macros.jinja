{% macro prepare_path(path) -%}
    {%- set path = path | replace('\\', '/') | replace(' ', '\\ ') -%}

    {#- Replace SDK_PATH with SILABS_GSDK_DIR #}
    {%- set path = path | replace('(SDK_PATH)', '{SILABS_GSDK_DIR}') -%}

    {#- Redirect OpenThread stack sources to the ot-efr32 openthread submodule #}
    {%- set path = path | replace('${SILABS_GSDK_DIR}/util/third_party/openthread', '${PROJECT_SOURCE_DIR}/openthread') -%}

    {#- Redirect PAL sources to the ot-efr32 PAL #}
    {%- set path = path | replace('${SILABS_GSDK_DIR}/protocol/openthread/platform-abstraction/efr32', '${PROJECT_SOURCE_DIR}/src/src') -%}

    {#- Shorten source paths with SILABS_MBEDTLS_DIR #}
    {%- set path = path | replace('{SILABS_GSDK_DIR}/util/third_party/crypto/mbedtls', '{SILABS_MBEDTLS_DIR}') -%}
{{path}}
{%- endmacro %}
